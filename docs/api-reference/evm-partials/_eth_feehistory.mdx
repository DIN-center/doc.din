import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# `eth_feeHistory`


Returns historical gas information, allowing you to track trends over time. 

## Parameters

- `blockCount`: (integer) _[required]_ - Number of blocks in the requested range. Between 1 and 1024 blocks can be requested in a single query. If blocks in the specified block range are not available, then only the fee history for available blocks is returned.
- `newestBlock`: (string) _[required]_ - Integer representing the highest number block of the requested range, or one of the string tags `latest`, `earliest`, or `pending`.
- `array` of `integers`: (array) _[optional]_ - A monotonically increasing list of percentile values to sample from each block's effective priority fees per gas in ascending order, weighted by gas used.

## Returns

- `oldestBlock` - Lowest number block of the returned range expressed as a hexadecimal number.
- `baseFeePerGas` - An array of block base fees per gas, including an extra block value. The extra value is the next block after the newest block in the returned range. Returns zeroes for blocks created before [EIP-1559](https://eips.ethereum.org/EIPS/eip-1559).
- `gasUsedRatio` - An array of block gas used ratios. These are calculated as the ratio of `gasUsed` and `gasLimit`.
- `reward` - An array of effective priority fee per gas data points from a single block. All zeroes are returned if the block is empty.

## Example

Replace `<ENDPOINT>` with an API endpoint from your DIN gateway.

### Request


<Tabs>
  <TabItem value="curl">

```bash
curl <ENDPOINT> \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"id": 1, "jsonrpc": "2.0", "method": "eth_feeHistory", "params": ["0x5", "latest", [20,30]] }'
```

  </TabItem>
  <TabItem value="WSS">

```bash
wscat -c <ENDPOINT> -x '{"jsonrpc": "2.0", "method": "eth_feeHistory", "params": ["0x5", "latest", []], "id": 1}'
```

  </TabItem>
</Tabs>

### Response


<Tabs>
  <TabItem value="JSON">

```js
{
  "jsonrpc": "2.0",
  "result": {
    "baseFeePerGas": [
      "0x3da8e7618",
      "0x3e1ba3b1b",
      "0x3dfd72b90",
      "0x3d64eee76",
      "0x3d4da2da0",
      "0x3ccbcac6b"
    ],
    "gasUsedRatio": [
      0.5290747666666666,
      0.49240453333333334,
      0.4615576,
      0.49407083333333335,
      0.4669053
    ],
    "oldestBlock": "0xfab8ac",
    "reward": [
      [
        "0x59682f00",
        "0x59682f00"
      ],
      [
        "0x59682f00",
        "0x59682f00"
      ],
      [
        "0x3b9aca00",
        "0x59682f00"
      ],
      [
        "0x510b0870",
        "0x59682f00"
      ],
      [
        "0x3b9aca00",
        "0x59682f00"
      ]
    ]
  },
  "id": 0
}
```

  </TabItem>
</Tabs>
