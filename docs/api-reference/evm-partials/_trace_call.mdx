import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# `trace_call`

Executes the given call and returns a number of possible traces for it. Use this API to retrieve detailed information about the transaction execution, including state changes and logs generated during the process.

## Parameters

- `transaction call object`: (object) _[required]_ - Transaction call object with the following keys and their values:
  - `from`: (string) _[required]_ - 20 bytes. The address the transaction is sent from.
  - `to`: (string) _[required]_ - 20 bytes. The address the transaction is directed to.
  - `gas`: (string) _[optional]_ - The gas provided for the transaction execution, in hexadecimal.
  - `gasPrice`: (string) _[optional]_ - The gas price used for each paid gas, in hexadecimal.
  - `maxPriorityFeePerGas`: (string) _[optional]_ - Maximum fee, in wei, the sender is willing to pay per gas above the base fee.
  - `maxFeePerGas`: (string) _[optional]_ - Maximum total fee (base fee + priority fee), in wei, the sender is willing to pay per gas.
  - `value`: (string) _[optional]_ - The value sent with this transaction, in hexadecimal.
  - `data`: (string) _[optional]_ - The hash of the method signature and encoded parameters. See the [Ethereum contract ABI specification](https://docs.soliditylang.org/en/latest/abi-spec.html).
- `trace options`: (array) _[required]_ - A list of tracing options. Tracing options are `trace` and `stateDiff`.
- `block parameter`: (string) _[required]_ - The hexadecimal block number, or the string `latest`, `earliest`, or `pending`. See the [default block parameter](https://ethereum.org/en/developers/docs/apis/json-rpc/#default-block).

## Returns

A trace object that includes the `trace` and `stateDiff`.

## Example

Replace `<ENDPOINT>` with an API endpoint from your DIN gateway.

### Request

<Tabs>
  <TabItem value="curl">

```bash
curl <ENDPOINT> \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc": "2.0", "method": "trace_call", "params": [{"from": "0xfe3b557e8fb62b89f4916b721be55ceb828dbd73", "to": "0x0010000000000000000000000000000000000000", "gas": "0xfffff2", "gasPrice": "0xef", "value": "0x0", "data": "0x0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002", "nonce": "0x0"}, ["trace"], "latest"], "id": 1}'
```

  </TabItem>
  <TabItem value="WSS">

```bash
wscat -c <ENDPOINT> -x '{"jsonrpc": "2.0", "method": "trace_call", "params": [{"from":"0xfe3b557e8fb62b89f4916b721be55ceb828dbd73", "to": "0x0010000000000000000000000000000000000000", "gas": "0xfffff2", "gasPrice": "0xef", "value": "0x0", "data": "0x0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002", "nonce": "0x0"}, ["trace"], "latest"], "id": 1}'
```

  </TabItem>
</Tabs>

### Response

<Tabs>
  <TabItem value="JSON">

```json
{
  "jsonrpc": "2.0",
  "result": {
    "output": "0x",
    "stateDiff": null,
    "trace": [
      {
        "action": {
          "callType": "call",
          "from": "0xfe3b557e8fb62b89f4916b721be55ceb828dbd73",
          "gas": "0xffabba",
          "input": "0x0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002",
          "to": "0x0010000000000000000000000000000000000000",
          "value": "0x0"
        },
        "result": {
          "gasUsed": "0x9c58",
          "output": "0x"
        },
        "subtraces": 0,
        "traceAddress": [],
        "type": "call"
      }
    ],
    "vmTrace": null
  },
  "id": 2
}
```

  </TabItem>
</Tabs>
