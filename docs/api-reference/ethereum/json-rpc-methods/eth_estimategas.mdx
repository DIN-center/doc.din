---
title: Ethereum eth_estimateGas
sidebar_label: eth_estimateGas
description: Estimates gas required for a Ethereum transaction.
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# `eth_estimategas`


Generates and returns an estimate of how much gas is necessary to allow the transaction to complete.
The transaction will not be added to the blockchain. Note that the estimate may be significantly more
than the amount of gas actually used by the transaction, for a variety of reasons including EVM mechanics
and node performance. 

:::warning Gas parameter is capped

To prevent abuse of the API, the `gas` parameter in this `eth_estimateGas` method and in
[`eth_call`](./eth_call.mdx) is capped at 10x (1000%) the current block gas limit. You can recreate this behavior in your local test environment (Besu, geth, or other client) using the [`rpc.gascap`](https://geth.ethereum.org/docs/fundamentals/command-line-options#commands) command line option.
:::

## Parameters

- `TRANSACTION CALL OBJECT` _\[required]_
  - `from`: _\[optional]_ 20 Bytes - The address the transaction is sent from.
  - `to`: 20 Bytes - The address the transaction is directed to.
  - `gas`: _\[optional]_ Hexadecimal value of the gas provided for the transaction execution. `eth_estimateGas` consumes
    zero gas, but this parameter may be needed by some executions.
  - `gasPrice`: _\[optional]_ Hexadecimal value of the gas price used for each paid gas.
  - `maxPriorityFeePerGas`: _\[optional]_ Maximum fee, in wei, the sender is willing to pay per gas above the base fee.
    See [EIP-1559 transactions](http://eips.ethereum.org/EIPS/eip-1559).
  - `maxFeePerGas`: _\[optional]_ Maximum total fee (base fee + priority fee), in wei, the sender is willing to pay per gas.
    See [EIP-1559 transactions](http://eips.ethereum.org/EIPS/eip-1559).
  - `value`: _\[optional]_ Hexadecimal value of the value sent with this transaction.
  - `data`: _\[optional]_ Hash of the method signature and encoded parameters. See the
    [Ethereum contract ABI specification](https://docs.soliditylang.org/en/latest/abi-spec.html).
  - `block number`: _[required]_ A string representing a block number, or one of the string tags
    `latest`, `earliest`, `pending`, `safe`, or `finalized`.
    See the [default block parameter](https://ethereum.org/en/developers/docs/apis/json-rpc/#default-block).

If no gas limit is specified, geth uses the block gas limit from the pending block as an upper bound. As a result the
returned estimate might not be enough to executed the call/transaction when the amount of gas is higher than the pending
block gas limit.

## Returns

A hexadecimal of the estimate of the gas for the given transaction.

If this call causes the EVM to execute a `REVERT` operation, an error response of the following form is returned, with the revert reason pre-decoded as a string:

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "error": {
    "code": 3,
    "message": "execution reverted: Dai/insufficient-balance",
    "data": "0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000184461692f696e73756666696369656e742d62616c616e63650000000000000000"
  }
}
```

## Example

Replace `<YOUR-API-KEY>` with an API key from your [MetaMask Developer dashboard](https://developer.metamask.io/).

### Request


<Tabs>
  <TabItem value="curl">

```bash
curl https://mainnet.infura.io/v3/<YOUR-API-KEY> \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc": "2.0", "method": "eth_estimateGas", "params": [{"from": "0x9cE564c7d09f88E7d8233Cdd3A4d7AC42aBFf3aC", "to": "0xd46e8dd67c5d32be8058bb8eb970870f07244567", "value": "0x9184e72a"}], "id": 1}'
```

  </TabItem>
  <TabItem value="WSS">

```bash
wscat -c wss://mainnet.infura.io/ws/v3/<YOUR-API-KEY> -x '{"jsonrpc": "2.0", "method": "eth_estimateGas", "params": [{"from": "0x9cE564c7d09f88E7d8233Cdd3A4d7AC42aBFf3aC", "to": "0xd46e8dd67c5d32be8058bb8eb970870f07244567", "value": "0x9184e72a"}], "id": 1}'
```

  </TabItem>
</Tabs>

### Response


<Tabs>
  <TabItem value="JSON">

```js
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": "0x5cec"
}
```

  </TabItem>
</Tabs>
